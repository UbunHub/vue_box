{"version":3,"sources":["webpack:///./src/views/Menu.vue?d651","webpack:///src/views/Menu.vue","webpack:///./src/views/Menu.vue?9e60","webpack:///./src/views/Menu.vue","webpack:///./src/views/Menu.vue?e13c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","_l","image","index","key","_m","model","value","callback","$$v","checked","expression","class","tabscroller","on","sidebarChange","activeKey","onSidebarClick","_v","_s","index2","staticRenderFns","data","scrollTimer","isclick","imageList","mounted","window","addEventListener","handleScroll","methods","undefined","element","scrollIntoView","behavior","block","inline","that","setTimeout","clearTimeout","tags","i","getBoundingClientRect","y","console","log","component"],"mappings":"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","file":"js/chunk-a72ad40c.d7911688.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('div',{ref:\"menu_bander\",staticClass:\"menu-bander\"},[_c('van-swipe',{attrs:{\"autoplay\":3000,\"indicator-color\":\"red\"}},_vm._l((_vm.imageList),function(image,index){return _c('van-swipe-item',{key:index},[_c('van-image',{attrs:{\"fit\":\"cover\",\"lazy-load\":\"\",\"src\":image}})],1)}),1)],1),_c('div',{staticClass:\"menu-content\"},[_c('div',{staticClass:\"menu-address\"},[_c('van-icon',{staticClass:\"address-icon\",attrs:{\"name\":\"location-o\"}}),_vm._m(0),_c('van-switch',{staticClass:\"address-isself\",attrs:{\"size\":\"18\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}})],1),_c('div',{ref:\"menu_product\",class:!_vm.tabscroller ? 'menu-product' : 'menu-product menu-product-scroller'},[_c('div',{staticClass:\"priduct-sidebar\"},[_c('van-sidebar',{on:{\"change\":_vm.sidebarChange},model:{value:(_vm.activeKey),callback:function ($$v) {_vm.activeKey=$$v},expression:\"activeKey\"}},_vm._l((16),function(index){return _c('van-sidebar-item',{key:index,attrs:{\"dot\":\"\",\"title\":'选项 ' + index},on:{\"click\":_vm.onSidebarClick}})}),1)],1),_c('div',{staticClass:\"priduct-list\"},_vm._l((16),function(index){return _c('div',{key:index,attrs:{\"id\":'priduct-group-' + index}},[_c('div',{staticClass:\"priduct-group\"},[_vm._v(_vm._s(\"选项 \" + index))]),_vm._l((4),function(index2){return _c('van-card',{key:index2,attrs:{\"num\":\"2\",\"price\":\"2.00\",\"desc\":\"eeee\",\"title\":\"商品标题\",\"thumb\":\"https://img.yzcdn.cn/vant/ipad.jpeg\"}})})],2)}),0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"address-name\"},[_c('h4',{staticClass:\"address-title\"},[_vm._v(\"阳光科创大厦点\")]),_c('p',{staticClass:\"address-distances\"},[_vm._v(\"距你189m\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"menu\">\n    <div class=\"menu-bander\" ref=\"menu_bander\">\n      <van-swipe :autoplay=\"3000\" indicator-color=\"red\">\n        <van-swipe-item v-for=\"(image, index) in imageList\" :key=\"index\">\n          <van-image fit=\"cover\" lazy-load :src=\"image\" />\n        </van-swipe-item>\n      </van-swipe>\n    </div>\n\n    <div class=\"menu-content\">\n      <div class=\"menu-address\">\n        <van-icon class=\"address-icon\" name=\"location-o\" />\n        <div class=\"address-name\">\n          <h4 class=\"address-title\">阳光科创大厦点</h4>\n          <p class=\"address-distances\">距你189m</p>\n        </div>\n\n        <van-switch class=\"address-isself\" v-model=\"checked\" size=\"18\" />\n      </div>\n\n      <div\n        :class=\"\n          !tabscroller ? 'menu-product' : 'menu-product menu-product-scroller'\n        \"\n        \n        ref=\"menu_product\"\n      >\n        <div class=\"priduct-sidebar\">\n          <van-sidebar v-model=\"activeKey\" @change=\"sidebarChange\">\n            <van-sidebar-item\n              dot\n              v-for=\"index in 16\"\n              :key=\"index\"\n              :title=\"'选项 ' + index\"\n              @click=\"onSidebarClick\"\n            >\n            </van-sidebar-item>\n          </van-sidebar>\n        </div>\n        <div class=\"priduct-list\">\n          <div v-for=\"index in 16\" :key=\"index\" :id=\"'priduct-group-' + index\">\n            <div class=\"priduct-group\">{{ \"选项 \" + index }}</div>\n            <van-card\n              num=\"2\"\n              price=\"2.00\"\n              desc=\"eeee\"\n              title=\"商品标题\"\n              thumb=\"https://img.yzcdn.cn/vant/ipad.jpeg\"\n              v-for=\"index2 in 4\"\n              :key=\"index2\"\n            >\n            </van-card>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      activeKey: 0,\n      scrollTimer: 0,\n      tabscroller: false,\n      checked: true,\n      isclick: false, // 侧边栏点击\n      imageList: [\n        \"https://img.yzcdn.cn/vant/apple-1.jpg\",\n        \"https://img.yzcdn.cn/vant/apple-2.jpg\",\n        \"https://img.yzcdn.cn/vant/apple-1.jpg\",\n        \"https://img.yzcdn.cn/vant/apple-2.jpg\",\n        \"https://img.yzcdn.cn/vant/apple-1.jpg\",\n        \"https://img.yzcdn.cn/vant/apple-2.jpg\",\n      ],\n    };\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n  },\n  methods: {\n    sidebarChange(index) {\n      // if (this.isclick) {\n      //   return;\n      // }\n      // let selement = document.getElementsByClassName(\n      //   \"van-sidebar-item--select\"\n      // )[0];\n      // if (selement != undefined) {\n      //   selement.scrollIntoView({\n      //     behavior: \"smooth\",\n      //     block: \"start\",\n      //     inline: \"start\",\n      //   });\n      // }\n    },\n    onSidebarClick(index) {\n      this.isclick = true;\n\n      let element = document.getElementById(\"priduct-group-\" + (index + 1));\n      if (element != undefined) {\n        element.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"end\",\n          inline: \"end\",\n        });\n      }\n      var that = this;\n      setTimeout(() => {\n        that.isclick = false;\n      }, 3000);\n    },\n\n    // 滚动监听 · 动画播放\n    handleScroll: function () {\n      if (this.isclick) {\n        return;\n      }\n      clearTimeout(this.scrollTimer);\n      var that = this;\n      this.scrollTimer = setTimeout(() => {\n        let tags = document.getElementsByClassName(\"priduct-group\");\n        let i = 0;\n        while (tags[i] && tags[i].getBoundingClientRect().y <= 10) {\n          i++;\n        }\n        console.log(\"handleScroll i:\" + i + \" activeKey \" + this.activeKey);\n        if (this.activeKey != i) {\n          console.log(\"handleScroll change\" + this.activeKey);\n          that.activeKey = i;\n        }\n      }, 300);\n    },\n  },\n};\n</script>\n\n<style>\n.menu-bander {\n  height: 120px;\n  top: 40px;\n  background-color: white;\n  border-radius: 8px;\n  margin: 8px;\n  overflow: hidden;\n  box-shadow: rgba(0, 0, 0, 0.25) 0px 0px 100px 5px;\n\n  animation: rotate 1s linear infinite;\n  animation-play-state: paused;\n  animation-delay: calc(var(--scroll) * -1s);\n  animation-iteration-count: 1;\n  animation-fill-mode: both;\n}\n.menu-content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow:-moz-hidden-unscrollable;\n  background-color: rebeccapurple;\n}\n.menu-address {\n  display: flex;\n  height: 50px;\n  background-color: white;\n  border-radius: 8px;\n  margin: 8px;\n  justify-content: baseline;\n  align-self: center;\n}\n\n.address-icon {\n  width: 20px;\n  height: 20px;\n  align-self: center;\n  margin-left: 10px;\n}\n.address-name {\n  align-self: center;\n}\n.address-title {\n  margin: auto;\n  font-size: 14px;\n}\n.address-distances {\n  margin: auto;\n  font-size: 12px;\n  align-self: center;\n}\n.address-isself {\n  align-self: center;\n  flex-basis: auto;\n  margin-left: auto;\n  margin-right: 10px;\n}\n\n.menu-product {\n  display: grid;\n  grid-template-columns: 120px 1fr;\n  height: calc(100% - 66px);\n  overflow: scroll;\n  background-color: #f0f3f5;\n}\n\n.priduct-sidebar {\n  height: 100%;\n  overflow: scroll;\n  margin-bottom: 10px;\n  margin-top: 8px;\n}\n.van-sidebar {\n  width: 100%;\n}\n.van-sidebar-item {\n  padding: 12px 6px;\n  margin: 2px 0;\n  background-color: rgba(0, 0, 0, 0);\n}\n.van-sidebar-item--select {\n  margin: 6px 8px 6px 0px;\n  border-radius: 8px;\n  background-color: white;\n}\n\n.van-sidebar-item--select::before {\n  position: absolute;\n  top: 30%;\n  left: -7px;\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n  background-color: rebeccapurple;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  animation-duration: 1.5s;\n  -webkit-animation-duration: 1.5s;\n  content: \"\";\n}\n\n.priduct-list {\n  position: relative;\n  background-color: white;\n  overflow: scroll;\n  top: 8px;\n  margin-bottom: 10px;\n  border-radius: 8px;\n  padding: 8px;\n  margin: 2px;\n}\n\n.priduct-group {\n  position: -webkit-sticky;\n  position: sticky;\n  top: -1px;\n  z-index: 99;\n  background-color: white;\n  width: 100%;\n  height: 60px;\n}\n\n@keyframes rotate {\n  to {\n    opacity: 0;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=145b903e&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}